"use strict";function setUtm(){let t=window.location.href;if(t.includes("?")){let e=t.substring(t.indexOf("?")+1);sessionStorage.setItem("xUtm",encodeURIComponent(e))}}function FeaturesCarouselControl(){new class{constructor(t,e={}){this.size=t.childElementCount,this.currentSlideWasChanged=!1,this.containerNode=t,this.currentSlide=0,this.manageHTML=this.manageHTML.bind(this),this.setParameters=this.setParameters.bind(this),this.setEvents=this.setEvents.bind(this),this.resizeCarousel=this.resizeCarousel.bind(this),this.startDrag=this.startDrag.bind(this),this.dragging=this.dragging.bind(this),this.stopDrag=this.stopDrag.bind(this),this.setPosition=this.setPosition.bind(this),this.clickDots=this.clickDots.bind(this),this.changeActiveDot=this.changeActiveDot.bind(this),this.moveToLeft=this.moveToLeft.bind(this),this.moveToRight=this.moveToRight.bind(this),this.changeCurrentSlide=this.changeCurrentSlide.bind(this),this.ifLargeScreen=this.ifLargeScreen.bind(this),this.manageHTML(),this.setParameters(),this.setEvents(),this.ifLargeScreen()}manageHTML(){this.containerNode.classList.add("stage","features-stage"),this.containerNode.innerHTML=`\n        <div class="features-viewport">\n          <div class="track features-track">\n            ${this.containerNode.innerHTML}\n          </div>\n          <div class="features-nav">\n            <button class="features-nav__left"><</button>\n            <button class="features-nav__right">></button>\n          </div>\n        </div>\n        <div class="features-dots"></div>\n      `,this.trackNode=this.containerNode.querySelector(".track"),this.dotsNode=this.containerNode.querySelector(".features-dots"),this.trackItemNode=Array.from(this.trackNode.children).map(t=>function({element:t,className:e}){const s=document.createElement("div");return s.classList.add(e),t.parentNode.insertBefore(s,t),s.appendChild(t),s}({element:t,className:"features-track__item"})),this.dotsNode.innerHTML=Array.from(Array(this.size).keys()).map(t=>`<button class="features-dots__dot ${t===this.currentSlide?"features-dots__dot_active":""}"></button>`).join(""),this.dotNode=this.dotsNode.querySelectorAll(".features-dots__dot"),this.navLeft=this.containerNode.querySelector(".features-nav__left"),this.navRight=this.containerNode.querySelector(".features-nav__right")}setParameters(){const t=this.containerNode.getBoundingClientRect();this.width=t.width,this.maximumX=-(this.size-1)*this.width,this.x=-this.currentSlide*this.width,this.resetTransition(),this.trackNode.style.width=this.size*this.width+"px",this.setPosition(),Array.from(this.trackItemNode).forEach(t=>{t.style.width=this.width+"px"})}setEvents(){this.debouncedResizeCarousel=function(t,e=100){let s;return function(i){clearTimeout(s),s=setTimeout(t,e,i)}}(this.resizeCarousel),window.addEventListener("resize",this.debouncedResizeCarousel),window.addEventListener("load",this.debouncedResizeCarousel),this.trackNode.addEventListener("pointerdown",this.startDrag),window.addEventListener("pointerup",this.stopDrag),window.addEventListener("pointercancel",this.stopDrag),this.dotsNode.addEventListener("click",this.clickDots),this.navLeft.addEventListener("click",this.moveToLeft),this.navRight.addEventListener("click",this.moveToRight)}destroyEvents(){window.removeEventListener("resize",this.debouncedResizeCarousel),window.removeEventListener("load",this.debouncedResizeCarousel),this.trackNode.removeEventListener("pointerdown",this.startDrag),window.removeEventListener("pointerup",this.stopDrag),window.removeEventListener("pointercancel",this.stopDrag),this.dotsNode.removeEventListener("click",this.clickDots),this.navLeft.removeEventListener("click",this.moveToLeft),this.navRight.removeEventListener("click",this.moveToRight)}ifLargeScreen(){window.innerWidth>1059?this.destroyEvents():this.setEvents()}resizeCarousel(){this.setParameters()}startDrag(t){window.addEventListener("pointermove",this.dragging),this.currentSlideWasChanged=!1,this.clickX=t.pageX,this.startX=this.x,this.containerNode.classList.add("drag"),this.resetTransition()}stopDrag(){window.removeEventListener("pointermove",this.dragging),this.containerNode.classList.remove("drag"),this.changeCurrentSlide()}dragging(t){this.dragX=t.pageX;const e=this.dragX-this.clickX,s=e/6;this.x=Math.max(Math.min(this.startX+e,s),this.maximumX+s),this.setPosition(),e>9&&e>0&&!this.currentSlideWasChanged&&this.currentSlide>0&&(this.currentSlideWasChanged=!0,this.currentSlide-=1),e<-9&&e<0&&!this.currentSlideWasChanged&&this.currentSlide<this.size-1&&(this.currentSlideWasChanged=!0,this.currentSlide+=1)}clickDots(t){const e=t.target.closest("button");if(!e)return;let s;for(let t=0;t<this.dotNode.length;t++)if(this.dotNode[t]===e){s=t;break}if(s===this.currentSlide)return;const i=Math.abs(this.currentSlide-s);this.currentSlide=s,this.changeCurrentSlide(i)}moveToLeft(){this.currentSlide<=0||(this.currentSlide-=1,this.changeCurrentSlide())}moveToRight(){this.currentSlide>=this.size-1||(this.currentSlide+=1,this.changeCurrentSlide())}changeCurrentSlide(t){this.x=-this.currentSlide*this.width,this.setTransition(t),this.setPosition(),this.changeActiveDot()}changeActiveDot(){for(let t=0;t<this.dotNode.length;t++)this.dotNode[t].classList.remove("features-dots__dot_active");this.dotNode[this.currentSlide].classList.add("features-dots__dot_active")}setPosition(){this.trackNode.style.transform=`translate3d(${this.x}px, 0, 0)`}setTransition(t=1){this.trackNode.style.transition=`all ${.25*t}s ease 0s`}resetTransition(){this.trackNode.style.transition="all 0s ease 0s"}}(document.getElementById("features-stage"))}function ReviewsCarouselControl(){new class{constructor(t,e={}){this.size=t.childElementCount,this.currentSlideWasChanged=!1,this.containerNode=t,this.currentSlide=0,this.manageHTML=this.manageHTML.bind(this),this.setParameters=this.setParameters.bind(this),this.setEvents=this.setEvents.bind(this),this.resizeCarousel=this.resizeCarousel.bind(this),this.startDrag=this.startDrag.bind(this),this.dragging=this.dragging.bind(this),this.stopDrag=this.stopDrag.bind(this),this.setPosition=this.setPosition.bind(this),this.clickDots=this.clickDots.bind(this),this.changeActiveDot=this.changeActiveDot.bind(this),this.moveToLeft=this.moveToLeft.bind(this),this.moveToRight=this.moveToRight.bind(this),this.changeCurrentSlide=this.changeCurrentSlide.bind(this),this.manageHTML(),this.setParameters(),this.setEvents()}manageHTML(){this.containerNode.classList.add("stage","reviews-stage"),this.containerNode.innerHTML=`\n        <div class="reviews-viewport">\n          <div class="track reviews-track">\n            ${this.containerNode.innerHTML}\n          </div>\n        </div>\n        <div class="reviews-dots"></div>\n      `,this.trackNode=this.containerNode.querySelector(".track"),this.dotsNode=this.containerNode.querySelector(".reviews-dots"),this.trackItemNode=Array.from(this.trackNode.children).map(t=>function({element:t,className:e}){const s=document.createElement("div");return s.classList.add(e),t.parentNode.insertBefore(s,t),s.appendChild(t),s}({element:t,className:"reviews-track__item"})),this.dotsNode.innerHTML=Array.from(Array(this.size).keys()).map(t=>`<button class="reviews-dots__dot ${t===this.currentSlide?"reviews-dots__dot_active":""}"></button>`).join(""),this.dotNode=this.dotsNode.querySelectorAll(".reviews-dots__dot")}setParameters(){const t=this.containerNode.getBoundingClientRect();this.width=t.width,this.maximumX=-(this.size-1)*this.width,this.x=-this.currentSlide*this.width,this.resetTransition(),this.trackNode.style.width=this.size*this.width+"px",this.setPosition(),Array.from(this.trackItemNode).forEach(t=>{t.style.width=this.width+"px"})}setEvents(){this.debouncedResizeCarousel=function(t,e=100){let s;return function(i){clearTimeout(s),s=setTimeout(t,e,i)}}(this.resizeCarousel),window.addEventListener("resize",this.debouncedResizeCarousel),window.addEventListener("load",this.debouncedResizeCarousel),this.trackNode.addEventListener("pointerdown",this.startDrag),window.addEventListener("pointerup",this.stopDrag),window.addEventListener("pointercancel",this.stopDrag),this.dotsNode.addEventListener("click",this.clickDots)}destroyEvents(){window.removeEventListener("resize",this.debouncedResizeCarousel),window.removeEventListener("load",this.debouncedResizeCarousel),this.trackNode.removeEventListener("pointerdown",this.startDrag),window.removeEventListener("pointerup",this.stopDrag),window.removeEventListener("pointercancel",this.stopDrag),this.dotsNode.removeEventListener("click",this.clickDots)}resizeCarousel(){this.setParameters()}startDrag(t){window.addEventListener("pointermove",this.dragging),this.currentSlideWasChanged=!1,this.clickX=t.pageX,this.startX=this.x,this.containerNode.classList.add("grabbing"),this.resetTransition()}stopDrag(){window.removeEventListener("pointermove",this.dragging),this.containerNode.classList.remove("grabbing"),this.changeCurrentSlide()}dragging(t){this.dragX=t.pageX;const e=this.dragX-this.clickX,s=e/5;this.x=Math.max(Math.min(this.startX+e,s),this.maximumX+s),this.setPosition(),e>8&&e>0&&!this.currentSlideWasChanged&&this.currentSlide>0&&(this.currentSlideWasChanged=!0,this.currentSlide-=1),e<-8&&e<0&&!this.currentSlideWasChanged&&this.currentSlide<this.size-1&&(this.currentSlideWasChanged=!0,this.currentSlide+=1)}clickDots(t){const e=t.target.closest("button");if(!e)return;let s;for(let t=0;t<this.dotNode.length;t++)if(this.dotNode[t]===e){s=t;break}if(s===this.currentSlide)return;const i=Math.abs(this.currentSlide-s);this.currentSlide=s,this.changeCurrentSlide(i)}moveToLeft(){this.currentSlide<=0||(this.currentSlide-=1,this.changeCurrentSlide())}moveToRight(){this.currentSlide>=this.size-1||(this.currentSlide+=1,this.changeCurrentSlide())}changeCurrentSlide(t){this.x=-this.currentSlide*this.width,this.setTransition(t),this.setPosition(),this.changeActiveDot()}changeActiveDot(){for(let t=0;t<this.dotNode.length;t++)this.dotNode[t].classList.remove("reviews-dots__dot_active");this.dotNode[this.currentSlide].classList.add("reviews-dots__dot_active")}setPosition(){this.trackNode.style.transform=`translate3d(${this.x}px, 0, 0)`}setTransition(t=1){this.trackNode.style.transition=`all ${.25*t}s ease 0s`}resetTransition(){this.trackNode.style.transition="all 0s ease 0s"}}(document.getElementById("reviews-stage"))}function lazyImages(){const t=document.querySelectorAll("img");const e=new IntersectionObserver((function(t,e){t.forEach(t=>{var e;t.intersectionRatio>0&&((e=t.target).src=e.getAttribute("data-src"))})}),{root:null,rootMargin:"0px",threshold:.1});t.forEach(t=>{e.observe(t)})}setUtm(),FeaturesCarouselControl(),ReviewsCarouselControl(),lazyImages(),$((function(){!function(){const t=$(".nav"),e=$("html"),s=$("body");t.on("click","a[href^='#']",(function(t){t.preventDefault();let i=$(this).attr("href"),n=$(i).offset().top;$(e,s).animate({scrollTop:n},1500)}))}(),function(){const t=$(".features-stage"),e=$(".features-track"),s=$(".features-track__item"),i=$(".control__item"),n=$(".marker"),r=t.width()/1,a=s.length;let o=0,h=t.width()*-a/6,d=t.width()*-a/6*2,c=t.width()*-a/6*3,l=t.width()*-a/6*4,v=t.width()*-a/6*5;s.each((function(t,e){$(e).css({width:r})}));const u=()=>{e.css({transform:`translate3d(${o}px, 0, 0)`})};i.on("click",(function(){switch($(this).attr("id")){case"control__item-1":o=0,u(),$(this).prevAll().removeClass("active"),$(this).nextAll().removeClass("active"),$(this).addClass("active"),$(this).prevAll().find(n).removeClass("active"),$(this).nextAll().find(n).removeClass("active"),$(this).find(n).addClass("active");break;case"control__item-2":o=h,u(),$(this).prevAll().removeClass("active"),$(this).nextAll().removeClass("active"),$(this).addClass("active"),$(this).prevAll().find(n).removeClass("active"),$(this).nextAll().find(n).removeClass("active"),$(this).find(n).addClass("active");break;case"control__item-3":o=d,u(),$(this).prevAll().removeClass("active"),$(this).nextAll().removeClass("active"),$(this).addClass("active"),$(this).prevAll().find(n).removeClass("active"),$(this).nextAll().find(n).removeClass("active"),$(this).find(n).addClass("active");break;case"control__item-4":o=c,u(),$(this).prevAll().removeClass("active"),$(this).nextAll().removeClass("active"),$(this).addClass("active"),$(this).prevAll().find(n).removeClass("active"),$(this).nextAll().find(n).removeClass("active"),$(this).find(n).addClass("active");break;case"control__item-5":o=l,u(),$(this).prevAll().removeClass("active"),$(this).nextAll().removeClass("active"),$(this).addClass("active"),$(this).prevAll().find(n).removeClass("active"),$(this).nextAll().find(n).removeClass("active"),$(this).find(n).addClass("active");break;case"control__item-6":o=v,u(),$(this).prevAll().removeClass("active"),$(this).nextAll().removeClass("active"),$(this).addClass("active"),$(this).prevAll().find(n).removeClass("active"),$(this).nextAll().find(n).removeClass("active"),$(this).find(n).addClass("active")}}))}(),function(){const t=$(".community"),e=$(window),s=$(document);let i=$(".community-list__item-number"),n=!0;e.on("scroll load resize",(function(){if(!n)return!1;let r=t.offset().top,a=t.outerHeight(),o=e.scrollTop(),h=e.height(),d=s.height();(o+640>=r||h+o===d||a+r<h)&&(i.spincrement({thousandSeparator:" ",duration:1500}),n=!1)}))}(),function(){const t=$(".br");$(window).on("load resize",(function(){innerWidth<=768&&t.find($("br").remove())}))}(),function(){const t=$("span"),e=$("#monthly"),s=$("#yearly"),i=$(".subscriptions-select__switcher"),n=$(".subscriptions-select__slider"),r=$(".subscriptions-select__switcher.for-click"),a=$("#premium-price"),o=$("#pro-price");t.on("click",(function(){"yearly"===$(this).attr("id")?($(this).addClass("active annual"),e.removeClass("active"),i.addClass("annual"),n.addClass("annual"),a.html("41"),o.html("83")):(s.removeClass("active annual"),e.addClass("active"),i.removeClass("annual"),n.removeClass("annual"),a.html("49"),o.html("99"))})),r.on("click",(function(){"active"===e.attr("class")?(n.addClass("annual"),i.addClass("annual"),e.removeClass("active"),s.addClass("active annual"),a.html("41"),o.html("83")):(n.removeClass("annual"),i.removeClass("annual"),e.addClass("active"),s.removeClass("active annual"),a.html("49"),o.html("99"))}))}()})),jQuery.event.special.touchstart={setup:function(t,e,s){this.addEventListener("touchstart",s,{passive:!e.includes("noPreventDefault")})}},jQuery.event.special.touchmove={setup:function(t,e,s){this.addEventListener("touchmove",s,{passive:!e.includes("noPreventDefault")})}},jQuery.event.special.wheel={setup:function(t,e,s){this.addEventListener("wheel",s,{passive:!e.includes("noPreventDefault")})}},jQuery.event.special.mousewheel={setup:function(t,e,s){this.addEventListener("mousewheel",s,{passive:!e.includes("noPreventDefault")})}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInNldFV0bSIsInVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImluY2x1ZGVzIiwicGFyYW1zIiwic3Vic3RyaW5nIiwiaW5kZXhPZiIsInNlc3Npb25TdG9yYWdlIiwic2V0SXRlbSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkZlYXR1cmVzQ2Fyb3VzZWxDb250cm9sIiwiW29iamVjdCBPYmplY3RdIiwiZWxlbWVudCIsIm9wdGlvbnMiLCJ0aGlzIiwic2l6ZSIsImNoaWxkRWxlbWVudENvdW50IiwiY3VycmVudFNsaWRlV2FzQ2hhbmdlZCIsImNvbnRhaW5lck5vZGUiLCJjdXJyZW50U2xpZGUiLCJtYW5hZ2VIVE1MIiwiYmluZCIsInNldFBhcmFtZXRlcnMiLCJzZXRFdmVudHMiLCJyZXNpemVDYXJvdXNlbCIsInN0YXJ0RHJhZyIsImRyYWdnaW5nIiwic3RvcERyYWciLCJzZXRQb3NpdGlvbiIsImNsaWNrRG90cyIsImNoYW5nZUFjdGl2ZURvdCIsIm1vdmVUb0xlZnQiLCJtb3ZlVG9SaWdodCIsImNoYW5nZUN1cnJlbnRTbGlkZSIsImlmTGFyZ2VTY3JlZW4iLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJ0cmFja05vZGUiLCJxdWVyeVNlbGVjdG9yIiwiZG90c05vZGUiLCJ0cmFja0l0ZW1Ob2RlIiwiQXJyYXkiLCJmcm9tIiwiY2hpbGRyZW4iLCJtYXAiLCJjaGlsZE5vZGUiLCJjbGFzc05hbWUiLCJ3cmFwcGVyTm9kZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJhcHBlbmRDaGlsZCIsIndyYXBwRWxlbWVudEJ5RGl2Iiwia2V5cyIsImtleSIsImpvaW4iLCJkb3ROb2RlIiwicXVlcnlTZWxlY3RvckFsbCIsIm5hdkxlZnQiLCJuYXZSaWdodCIsImNvb3Jkc0NvbnRhaW5lciIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpZHRoIiwibWF4aW11bVgiLCJ4IiwicmVzZXRUcmFuc2l0aW9uIiwic3R5bGUiLCJmb3JFYWNoIiwiaXRlbU5vZGUiLCJkZWJvdW5jZWRSZXNpemVDYXJvdXNlbCIsImZ1bmMiLCJ0aW1lIiwidGltZXIiLCJldmVudCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJkZWJvdW5jZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaW5uZXJXaWR0aCIsImRlc3Ryb3lFdmVudHMiLCJldnQiLCJjbGlja1giLCJwYWdlWCIsInN0YXJ0WCIsInJlbW92ZSIsImRyYWdYIiwiZHJhZ1NoaWZ0IiwiZWFzaW5nIiwiTWF0aCIsIm1heCIsIm1pbiIsImRvdG5vZGUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZG90TnVtYmVyIiwiaSIsImxlbmd0aCIsImNvdW50U3dpcGVzIiwiYWJzIiwic2V0VHJhbnNpdGlvbiIsInRyYW5zZm9ybSIsInRyYW5zaXRpb24iLCJnZXRFbGVtZW50QnlJZCIsIlJldmlld3NDYXJvdXNlbENvbnRyb2wiLCJsYXp5SW1hZ2VzIiwiaW1hZ2VzIiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsIm15SW1nIiwibXlJbWdTaW5nbGUiLCJpbWFnZSIsImludGVyc2VjdGlvblJhdGlvIiwic3JjIiwiZ2V0QXR0cmlidXRlIiwicm9vdCIsInJvb3RNYXJnaW4iLCJ0aHJlc2hvbGQiLCJpbWciLCJvYnNlcnZlIiwiJCIsIm5hdiIsImh0bWwiLCJib2R5Iiwib24iLCJwcmV2ZW50RGVmYXVsdCIsImlkIiwiYXR0ciIsInRvcCIsIm9mZnNldCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJzbW9vdGhBbmNob3JzIiwic3RhZ2UiLCJ0cmFjayIsInRyYWNrSXRlbSIsImNvbnRyb2xidG4iLCJtYXJrZXIiLCJpdGVtV2lkdGgiLCJpdGVtc0NvdW50IiwicG9zaXRpb24iLCJzbGlkZV8yIiwic2xpZGVfMyIsInNsaWRlXzQiLCJzbGlkZV81Iiwic2xpZGVfNiIsImVhY2giLCJpbmRleCIsImNzcyIsInByZXZBbGwiLCJyZW1vdmVDbGFzcyIsIm5leHRBbGwiLCJhZGRDbGFzcyIsImZpbmQiLCJmZWF0dXJlc0Nhcm91c2VsU2lkZUNvbnRyb2wiLCJzZWN0aW9uIiwiV2luZG93IiwiRG9jdW1lbnQiLCJjb3VudGVyIiwic2hvd0FuaW1hdGlvbiIsImVfdG9wIiwiZV9oZWlnaHQiLCJvdXRlckhlaWdodCIsIndfdG9wIiwid19oZWlnaHQiLCJoZWlnaHQiLCJkX2hlaWdodCIsInNwaW5jcmVtZW50IiwidGhvdXNhbmRTZXBhcmF0b3IiLCJkdXJhdGlvbiIsImJyQ2xhc3MiLCJyZW1vdmVCciIsInNwYW5FbGVtIiwibSIsInkiLCJzd2l0Y2hlciIsInNsaWRlciIsInN3aXRjaGVyQ2xpY2siLCJwcmVtaXVtUHJpY2UiLCJwcm9QcmljZSIsInN1YnNjcmlwdGlvblNlbGVjdG9yIiwialF1ZXJ5Iiwic3BlY2lhbCIsInRvdWNoc3RhcnQiLCJzZXR1cCIsIl8iLCJucyIsImhhbmRsZSIsInBhc3NpdmUiLCJ0b3VjaG1vdmUiLCJ3aGVlbCIsIm1vdXNld2hlZWwiXSwibWFwcGluZ3MiOiJBQUFBLGFBRUEsU0FBU0EsU0FDUCxJQUFJQyxFQUFNQyxPQUFPQyxTQUFTQyxLQUUxQixHQUFJSCxFQUFJSSxTQUFTLEtBQU0sQ0FDckIsSUFBSUMsRUFBU0wsRUFBSU0sVUFBVU4sRUFBSU8sUUFBUSxLQUFPLEdBQzlDQyxlQUFlQyxRQUFRLE9BQVFDLG1CQUFtQkwsS0FLdEQsU0FBU00sMEJBcVJQLElBdFFBLE1BQ0VDLFlBQWFDLEVBQVNDLEVBQVUsSUFDOUJDLEtBQUtDLEtBQU9ILEVBQVFJLGtCQUNwQkYsS0FBS0csd0JBQXlCLEVBQzlCSCxLQUFLSSxjQUFnQk4sRUFDckJFLEtBQUtLLGFBQWUsRUFFcEJMLEtBQUtNLFdBQWFOLEtBQUtNLFdBQVdDLEtBQUtQLE1BQ3ZDQSxLQUFLUSxjQUFnQlIsS0FBS1EsY0FBY0QsS0FBS1AsTUFDN0NBLEtBQUtTLFVBQVlULEtBQUtTLFVBQVVG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LENBQy9CTCxNQUFPLFNBQVVDLEVBQUdDLEVBQUlDLEdBQ3RCL0ssS0FBS2lFLGlCQUFpQixZQUFhOEcsRUFBUSxDQUFFQyxTQUFVRixFQUFHekwsU0FBUyx3QkFJdkVvTCxPQUFPNUcsTUFBTTZHLFFBQVFRLE1BQVEsQ0FDM0JOLE1BQU8sU0FBVUMsRUFBR0MsRUFBSUMsR0FDdEIvSyxLQUFLaUUsaUJBQWlCLFFBQVM4RyxFQUFRLENBQUVDLFNBQVVGLEVBQUd6TCxTQUFTLHdCQUluRW9MLE9BQU81RyxNQUFNNkcsUUFBUVMsV0FBYSxDQUNoQ1AsTUFBTyxTQUFVQyxFQUFHQyxFQUFJQyxHQUN0Qi9LLEtBQUtpRSxpQkFBaUIsYUFBYzhHLEVBQVEsQ0FBRUMsU0FBVUYsRUFBR3pMLFNBQVMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmZ1bmN0aW9uIHNldFV0bSgpIHtcclxuICBsZXQgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcblxyXG4gIGlmICh1cmwuaW5jbHVkZXMoXCI/XCIpKSB7XHJcbiAgICBsZXQgcGFyYW1zID0gdXJsLnN1YnN0cmluZyh1cmwuaW5kZXhPZihcIj9cIikgKyAxKTtcclxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJ4VXRtXCIsIGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXMpKTtcclxuICB9XHJcbn1cclxuc2V0VXRtKCk7XHJcblxyXG5mdW5jdGlvbiBGZWF0dXJlc0Nhcm91c2VsQ29udHJvbCgpIHtcclxuICBjb25zdCBzdGFnZSA9IFwic3RhZ2VcIjtcclxuICBjb25zdCB0cmFjayA9IFwidHJhY2tcIjtcclxuICBjb25zdCBmZWF0dXJlc1RyYWNrSXRlbSA9IFwiZmVhdHVyZXMtdHJhY2tfX2l0ZW1cIjtcclxuICBjb25zdCBmZWF0dXJlc1N0YWdlID0gXCJmZWF0dXJlcy1zdGFnZVwiO1xyXG4gIGNvbnN0IGZlYXR1cmVzVHJhY2sgPSBcImZlYXR1cmVzLXRyYWNrXCI7XHJcbiAgY29uc3QgZmVhdHVyZXNWaWV3cG9ydCA9IFwiZmVhdHVyZXMtdmlld3BvcnRcIjtcclxuICBjb25zdCBmZWF0dXJlc0RvdEFjdGl2ZSA9IFwiZmVhdHVyZXMtZG90c19fZG90X2FjdGl2ZVwiO1xyXG4gIGNvbnN0IGZlYXR1cmVzRG90ID0gXCJmZWF0dXJlcy1kb3RzX19kb3RcIjtcclxuICBjb25zdCBmZWF0dXJlc0RvdHMgPSBcImZlYXR1cmVzLWRvdHNcIjtcclxuICBjb25zdCBmZWF0dXJlc05hdlJpZ2h0ID1cImZlYXR1cmVzLW5hdl9fcmlnaHRcIjtcclxuICBjb25zdCBmZWF0dXJlc05hdkxlZnQgPVwiZmVhdHVyZXMtbmF2X19sZWZ0XCI7XHJcbiAgY29uc3QgZmVhdHVyZXNOYXYgPSBcImZlYXR1cmVzLW5hdlwiO1xyXG4gIGNvbnN0IGRyYWdDdXJzb3IgPSBcImRyYWdcIjtcclxuXHJcbiAgY2xhc3MgZmVhdHVyZXNDYXJvdXNlbCB7XHJcbiAgICBjb25zdHJ1Y3RvciAoZWxlbWVudCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgIHRoaXMuc2l6ZSA9IGVsZW1lbnQuY2hpbGRFbGVtZW50Q291bnQ7XHJcbiAgICAgIHRoaXMuY3VycmVudFNsaWRlV2FzQ2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmNvbnRhaW5lck5vZGUgPSBlbGVtZW50O1xyXG4gICAgICB0aGlzLmN1cnJlbnRTbGlkZSA9IDA7XHJcblxyXG4gICAgICB0aGlzLm1hbmFnZUhUTUwgPSB0aGlzLm1hbmFnZUhUTUwuYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5zZXRQYXJhbWV0ZXJzID0gdGhpcy5zZXRQYXJhbWV0ZXJzLmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuc2V0RXZlbnRzID0gdGhpcy5zZXRFdmVudHMuYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5yZXNpemVDYXJvdXNlbCA9IHRoaXMucmVzaXplQ2Fyb3VzZWwuYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5zdGFydERyYWcgPSB0aGlzLnN0YXJ0RHJhZy5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLmRyYWdnaW5nID0gdGhpcy5kcmFnZ2luZy5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLnN0b3BEcmFnID0gdGhpcy5zdG9wRHJhZy5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLnNldFBvc2l0aW9uID0gdGhpcy5zZXRQb3NpdGlvbi5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLmNsaWNrRG90cyA9IHRoaXMuY2xpY2tEb3RzLmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuY2hhbmdlQWN0aXZlRG90ID0gdGhpcy5jaGFuZ2VBY3RpdmVEb3QuYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5tb3ZlVG9MZWZ0ID0gdGhpcy5tb3ZlVG9MZWZ0LmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMubW92ZVRvUmlnaHQgPSB0aGlzLm1vdmVUb1JpZ2h0LmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuY2hhbmdlQ3VycmVudFNsaWRlID0gdGhpcy5jaGFuZ2VDdXJyZW50U2xpZGUuYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5pZkxhcmdlU2NyZWVuID0gdGhpcy5pZkxhcmdlU2NyZWVuLmJpbmQodGhpcyk7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLm1hbmFnZUhUTUwoKTtcclxuICAgICAgdGhpcy5zZXRQYXJhbWV0ZXJzKCk7XHJcbiAgICAgIHRoaXMuc2V0RXZlbnRzKCk7XHJcbiAgICAgIHRoaXMuaWZMYXJnZVNjcmVlbigpO1xyXG4gICAgfVxyXG5cclxuICAgIG1hbmFnZUhUTUwoKSB7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyTm9kZS5jbGFzc0xpc3QuYWRkKHN0YWdlLCBmZWF0dXJlc1N0YWdlKTtcclxuXHJcbiAgICAgIHRoaXMuY29udGFpbmVyTm9kZS5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIiR7ZmVhdHVyZXNWaWV3cG9ydH1cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCIke3RyYWNrfSAke2ZlYXR1cmVzVHJhY2t9XCI+XHJcbiAgICAgICAgICAgICR7dGhpcy5jb250YWluZXJOb2RlLmlubmVySFRNTH1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIiR7ZmVhdHVyZXNOYXZ9XCI+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCIke2ZlYXR1cmVzTmF2TGVmdH1cIj48PC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCIke2ZlYXR1cmVzTmF2UmlnaHR9XCI+PjwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIiR7ZmVhdHVyZXNEb3RzfVwiPjwvZGl2PlxyXG4gICAgICBgO1xyXG5cclxuICAgICAgdGhpcy50cmFja05vZGUgPSB0aGlzLmNvbnRhaW5lck5vZGUucXVlcnlTZWxlY3RvcihgLiR7dHJhY2t9YCk7XHJcbiAgICAgIHRoaXMuZG90c05vZGUgPSB0aGlzLmNvbnRhaW5lck5vZGUucXVlcnlTZWxlY3RvcihgLiR7ZmVhdHVyZXNEb3RzfWApO1xyXG5cclxuICAgICAgdGhpcy50cmFja0l0ZW1Ob2RlID0gQXJyYXkuZnJvbSh0aGlzLnRyYWNrTm9kZS5jaGlsZHJlbikubWFwKChjaGlsZE5vZGUpID0+XHJcbiAgICAgICAgd3JhcHBFbGVtZW50QnlEaXYoe1xyXG4gICAgICAgICAgZWxlbWVudDogY2hpbGROb2RlLFxyXG4gICAgICAgICAgY2xhc3NOYW1lOiBmZWF0dXJlc1RyYWNrSXRlbVxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICB0aGlzLmRvdHNOb2RlLmlubmVySFRNTCA9IEFycmF5LmZyb20oQXJyYXkodGhpcy5zaXplKS5rZXlzKCkpLm1hcCgoa2V5KSA9PiAoXHJcbiAgICAgICAgYDxidXR0b24gY2xhc3M9XCIke2ZlYXR1cmVzRG90fSAke2tleSA9PT0gdGhpcy5jdXJyZW50U2xpZGUgPyBcclxuICAgICAgICAgIGZlYXR1cmVzRG90QWN0aXZlIDogJyd9XCI+PC9idXR0b24+YFxyXG4gICAgICApKS5qb2luKFwiXCIpO1xyXG5cclxuICAgICAgdGhpcy5kb3ROb2RlID0gdGhpcy5kb3RzTm9kZS5xdWVyeVNlbGVjdG9yQWxsKGAuJHtmZWF0dXJlc0RvdH1gKTtcclxuICAgICAgdGhpcy5uYXZMZWZ0ID0gdGhpcy5jb250YWluZXJOb2RlLnF1ZXJ5U2VsZWN0b3IoYC4ke2ZlYXR1cmVzTmF2TGVmdH1gKTtcclxuICAgICAgdGhpcy5uYXZSaWdodCA9IHRoaXMuY29udGFpbmVyTm9kZS5xdWVyeVNlbGVjdG9yKGAuJHtmZWF0dXJlc05hdlJpZ2h0fWApO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBhcmFtZXRlcnMoKSB7XHJcbiAgICAgIGNvbnN0IGNvb3Jkc0NvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgIHRoaXMud2lkdGggPSBjb29yZHNDb250YWluZXIud2lkdGg7XHJcbiAgICAgIHRoaXMubWF4aW11bVggPSAtKHRoaXMuc2l6ZSAtIDEpICogdGhpcy53aWR0aDtcclxuICAgICAgdGhpcy54ID0gLXRoaXMuY3VycmVudFNsaWRlICogdGhpcy53aWR0aDtcclxuXHJcbiAgICAgIHRoaXMucmVzZXRUcmFuc2l0aW9uKCk7XHJcbiAgICAgIHRoaXMudHJhY2tOb2RlLnN0eWxlLndpZHRoID0gYCR7dGhpcy5zaXplICogdGhpcy53aWR0aH1weGA7XHJcblxyXG4gICAgICB0aGlzLnNldFBvc2l0aW9uKCk7XHJcblxyXG4gICAgICBBcnJheS5mcm9tKHRoaXMudHJhY2tJdGVtTm9kZSkuZm9yRWFjaCgoaXRlbU5vZGUpID0+IHtcclxuICAgICAgICBpdGVtTm9kZS5zdHlsZS53aWR0aCA9IGAke3RoaXMud2lkdGh9cHhgXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50cygpIHtcclxuICAgICAgdGhpcy5kZWJvdW5jZWRSZXNpemVDYXJvdXNlbCA9IGRlYm91bmNlKHRoaXMucmVzaXplQ2Fyb3VzZWwpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLmRlYm91bmNlZFJlc2l6ZUNhcm91c2VsKTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIHRoaXMuZGVib3VuY2VkUmVzaXplQ2Fyb3VzZWwpO1xyXG5cclxuICAgICAgdGhpcy50cmFja05vZGUuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHRoaXMuc3RhcnREcmFnKTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgdGhpcy5zdG9wRHJhZyk7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmNhbmNlbFwiLCB0aGlzLnN0b3BEcmFnKTtcclxuXHJcbiAgICAgIHRoaXMuZG90c05vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xpY2tEb3RzKTtcclxuICAgICAgdGhpcy5uYXZMZWZ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLm1vdmVUb0xlZnQpO1xyXG4gICAgICB0aGlzLm5hdlJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLm1vdmVUb1JpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95RXZlbnRzKCkge1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLmRlYm91bmNlZFJlc2l6ZUNhcm91c2VsKTtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIHRoaXMuZGVib3VuY2VkUmVzaXplQ2Fyb3VzZWwpO1xyXG4gICAgICB0aGlzLnRyYWNrTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgdGhpcy5zdGFydERyYWcpO1xyXG5cclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgdGhpcy5zdG9wRHJhZyk7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmNhbmNlbFwiLCB0aGlzLnN0b3BEcmFnKTtcclxuXHJcbiAgICAgIHRoaXMuZG90c05vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xpY2tEb3RzKTtcclxuICAgICAgdGhpcy5uYXZMZWZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLm1vdmVUb0xlZnQpO1xyXG4gICAgICB0aGlzLm5hdlJpZ2h0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLm1vdmVUb1JpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBpZkxhcmdlU2NyZWVuKCkge1xyXG4gICAgICBsZXQgd2luZG93SW5uZXJXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICBcclxuICAgICAgaWYgKHdpbmRvd0lubmVyV2lkdGggPiAxMDU5KSB7XHJcbiAgICAgICAgdGhpcy5kZXN0cm95RXZlbnRzKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5zZXRFdmVudHMoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc2l6ZUNhcm91c2VsKCkge1xyXG4gICAgICB0aGlzLnNldFBhcmFtZXRlcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydERyYWcgKGV2dCkge1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIHRoaXMuZHJhZ2dpbmcpO1xyXG4gICAgICBcclxuICAgICAgdGhpcy5jdXJyZW50U2xpZGVXYXNDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuY2xpY2tYID0gZXZ0LnBhZ2VYO1xyXG4gICAgICB0aGlzLnN0YXJ0WCA9IHRoaXMueDtcclxuXHJcbiAgICAgIHRoaXMuY29udGFpbmVyTm9kZS5jbGFzc0xpc3QuYWRkKGRyYWdDdXJzb3IpO1xyXG5cclxuICAgICAgdGhpcy5yZXNldFRyYW5zaXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBzdG9wRHJhZygpIHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCB0aGlzLmRyYWdnaW5nKTtcclxuXHJcbiAgICAgIHRoaXMuY29udGFpbmVyTm9kZS5jbGFzc0xpc3QucmVtb3ZlKGRyYWdDdXJzb3IpO1xyXG5cclxuICAgICAgdGhpcy5jaGFuZ2VDdXJyZW50U2xpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmFnZ2luZyAoZXZ0KSB7XHJcbiAgICAgIHRoaXMuZHJhZ1ggPSBldnQucGFnZVg7XHJcbiAgICAgIGNvbnN0IGRyYWdTaGlmdCA9IHRoaXMuZHJhZ1ggLXRoaXMuY2xpY2tYO1xyXG4gICAgICBjb25zdCBlYXNpbmcgPSBkcmFnU2hpZnQgLyA2O1xyXG4gICAgICB0aGlzLnggPSBNYXRoLm1heChNYXRoLm1pbih0aGlzLnN0YXJ0WCArIGRyYWdTaGlmdCwgZWFzaW5nKSwgdGhpcy5tYXhpbXVtWCArIGVhc2luZyk7XHJcblxyXG4gICAgICB0aGlzLnNldFBvc2l0aW9uKCk7XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZHJhZ1NoaWZ0ID4gOSAmJlxyXG4gICAgICAgIGRyYWdTaGlmdCA+IDAgJiZcclxuICAgICAgICAhdGhpcy5jdXJyZW50U2xpZGVXYXNDaGFuZ2VkICYmXHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2xpZGUgPiAwXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFNsaWRlV2FzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2xpZGUgLT0gMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgIGRyYWdTaGlmdCA8IC05ICYmXHJcbiAgICAgICAgZHJhZ1NoaWZ0IDwgMCAmJlxyXG4gICAgICAgICF0aGlzLmN1cnJlbnRTbGlkZVdhc0NoYW5nZWQgJiZcclxuICAgICAgICB0aGlzLmN1cnJlbnRTbGlkZSA8IHRoaXMuc2l6ZSAtIDFcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2xpZGVXYXNDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTbGlkZSArPSAxO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tEb3RzIChldnQpIHtcclxuICAgICAgY29uc3QgZG90bm9kZSA9IGV2dC50YXJnZXQuY2xvc2VzdChcImJ1dHRvblwiKTtcclxuXHJcbiAgICAgIGlmICghZG90bm9kZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IGRvdE51bWJlcjtcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kb3ROb2RlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZG90Tm9kZVtpXSA9PT0gZG90bm9kZSkge1xyXG4gICAgICAgICAgZG90TnVtYmVyID0gaTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGRvdE51bWJlciA9PT0gdGhpcy5jdXJyZW50U2xpZGUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGNvdW50U3dpcGVzID0gTWF0aC5hYnModGhpcy5jdXJyZW50U2xpZGUgLSBkb3ROdW1iZXIpO1xyXG4gICAgICB0aGlzLmN1cnJlbnRTbGlkZSA9IGRvdE51bWJlcjtcclxuICAgICAgdGhpcy5jaGFuZ2VDdXJyZW50U2xpZGUoY291bnRTd2lwZXMpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBtb3ZlVG9MZWZ0KCkge1xyXG4gICAgICBpZiAodGhpcy5jdXJyZW50U2xpZGUgPD0gMCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5jdXJyZW50U2xpZGUgLT0gMTtcclxuICAgICAgdGhpcy5jaGFuZ2VDdXJyZW50U2xpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlVG9SaWdodCgpIHtcclxuICAgICAgaWYgKHRoaXMuY3VycmVudFNsaWRlID49IHRoaXMuc2l6ZSAtIDEpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuY3VycmVudFNsaWRlICs9IDE7XHJcbiAgICAgIHRoaXMuY2hhbmdlQ3VycmVudFNsaWRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlQ3VycmVudFNsaWRlKGNvdW50U3dpcGVzKSB7XHJcbiAgICAgIHRoaXMueCA9IC10aGlzLmN1cnJlbnRTbGlkZSAqIHRoaXMud2lkdGg7XHJcbiAgICAgIHRoaXMuc2V0VHJhbnNpdGlvbihjb3VudFN3aXBlcyk7XHJcbiAgICAgIHRoaXMuc2V0UG9zaXRpb24oKTtcclxuICAgICAgdGhpcy5jaGFuZ2VBY3RpdmVEb3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VBY3RpdmVEb3QoKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwO2kgPCB0aGlzLmRvdE5vZGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0aGlzLmRvdE5vZGVbaV0uY2xhc3NMaXN0LnJlbW92ZShmZWF0dXJlc0RvdEFjdGl2ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuZG90Tm9kZVt0aGlzLmN1cnJlbnRTbGlkZV0uY2xhc3NMaXN0LmFkZChmZWF0dXJlc0RvdEFjdGl2ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UG9zaXRpb24oKSB7XHJcbiAgICAgIHRoaXMudHJhY2tOb2RlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3RoaXMueH1weCwgMCwgMClgO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRyYW5zaXRpb24oY291bnRTd2lwZXMgPSAxKSB7XHJcbiAgICAgIHRoaXMudHJhY2tOb2RlLnN0eWxlLnRyYW5zaXRpb24gPSBgYWxsICR7MC4yNSAqIGNvdW50U3dpcGVzfXMgZWFzZSAwc2A7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRUcmFuc2l0aW9uKCkge1xyXG4gICAgICB0aGlzLnRyYWNrTm9kZS5zdHlsZS50cmFuc2l0aW9uID0gYGFsbCAwcyBlYXNlIDBzYDtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB3cmFwcEVsZW1lbnRCeURpdiAoe2VsZW1lbnQsIGNsYXNzTmFtZX0pIHtcclxuICAgIGNvbnN0IHdyYXBwZXJOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIHdyYXBwZXJOb2RlLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuXHJcbiAgICBlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdyYXBwZXJOb2RlLCBlbGVtZW50KTtcclxuICAgIHdyYXBwZXJOb2RlLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG5cclxuICAgIHJldHVybiB3cmFwcGVyTm9kZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGRlYm91bmNlIChmdW5jLCB0aW1lID0gMTAwKSB7XHJcbiAgICBsZXQgdGltZXI7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIGNsZWFyVGltZW91dCAodGltZXIpO1xyXG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQgKGZ1bmMsIHRpbWUsIGV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgbmV3IGZlYXR1cmVzQ2Fyb3VzZWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmZWF0dXJlcy1zdGFnZVwiKSk7XHJcbn1cclxuXHJcbkZlYXR1cmVzQ2Fyb3VzZWxDb250cm9sKCk7XHJcblxyXG5mdW5jdGlvbiBSZXZpZXdzQ2Fyb3VzZWxDb250cm9sKCkge1xyXG4gIGNvbnN0IHN0YWdlID0gXCJzdGFnZVwiO1xyXG4gIGNvbnN0IHRyYWNrID0gXCJ0cmFja1wiO1xyXG5cclxuICBjb25zdCByZXZpZXdzVHJhY2tJdGVtID0gXCJyZXZpZXdzLXRyYWNrX19pdGVtXCI7XHJcbiAgY29uc3QgcmV2aWV3c1N0YWdlID0gXCJyZXZpZXdzLXN0YWdlXCI7XHJcbiAgY29uc3QgcmV2aWV3c1RyYWNrID0gXCJyZXZpZXdzLXRyYWNrXCI7XHJcbiAgY29uc3QgcmV2aWV3c1ZpZXdwb3J0ID0gXCJyZXZpZXdzLXZpZXdwb3J0XCI7XHJcblxyXG4gIGNvbnN0IHJldmlld3NEb3RBY3RpdmUgPSBcInJldmlld3MtZG90c19fZG90X2FjdGl2ZVwiO1xyXG4gIGNvbnN0IHJldmlld3NEb3QgPSBcInJldmlld3MtZG90c19fZG90XCI7XHJcbiAgY29uc3QgcmV2aWV3c0RvdHMgPSBcInJldmlld3MtZG90c1wiO1xyXG5cclxuICBjb25zdCBkcmFnQ3Vyc29yID0gXCJncmFiYmluZ1wiO1xyXG5cclxuXHJcbiAgY2xhc3MgcmV2aWV3c0Nhcm91c2VsIHtcclxuICAgIGNvbnN0cnVjdG9yIChlbGVtZW50LCBvcHRpb25zID0ge30pIHtcclxuICAgICAgdGhpcy5zaXplID0gZWxlbWVudC5jaGlsZEVsZW1lbnRDb3VudDtcclxuICAgICAgdGhpcy5jdXJyZW50U2xpZGVXYXNDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyTm9kZSA9IGVsZW1lbnQ7XHJcbiAgICAgIHRoaXMuY3VycmVudFNsaWRlID0gMDtcclxuXHJcbiAgICAgIHRoaXMubWFuYWdlSFRNTCA9IHRoaXMubWFuYWdlSFRNTC5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLnNldFBhcmFtZXRlcnMgPSB0aGlzLnNldFBhcmFtZXRlcnMuYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5zZXRFdmVudHMgPSB0aGlzLnNldEV2ZW50cy5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLnJlc2l6ZUNhcm91c2VsID0gdGhpcy5yZXNpemVDYXJvdXNlbC5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLnN0YXJ0RHJhZyA9IHRoaXMuc3RhcnREcmFnLmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuZHJhZ2dpbmcgPSB0aGlzLmRyYWdnaW5nLmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuc3RvcERyYWcgPSB0aGlzLnN0b3BEcmFnLmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuc2V0UG9zaXRpb24gPSB0aGlzLnNldFBvc2l0aW9uLmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuY2xpY2tEb3RzID0gdGhpcy5jbGlja0RvdHMuYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5jaGFuZ2VBY3RpdmVEb3QgPSB0aGlzLmNoYW5nZUFjdGl2ZURvdC5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLm1vdmVUb0xlZnQgPSB0aGlzLm1vdmVUb0xlZnQuYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5tb3ZlVG9SaWdodCA9IHRoaXMubW92ZVRvUmlnaHQuYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5jaGFuZ2VDdXJyZW50U2xpZGUgPSB0aGlzLmNoYW5nZUN1cnJlbnRTbGlkZS5iaW5kKHRoaXMpO1xyXG4gICAgICBcclxuICAgICAgdGhpcy5tYW5hZ2VIVE1MKCk7XHJcbiAgICAgIHRoaXMuc2V0UGFyYW1ldGVycygpO1xyXG4gICAgICB0aGlzLnNldEV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIG1hbmFnZUhUTUwoKSB7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyTm9kZS5jbGFzc0xpc3QuYWRkKHN0YWdlLCByZXZpZXdzU3RhZ2UpO1xyXG4gICAgICB0aGlzLmNvbnRhaW5lck5vZGUuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCIke3Jldmlld3NWaWV3cG9ydH1cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCIke3RyYWNrfSAke3Jldmlld3NUcmFja31cIj5cclxuICAgICAgICAgICAgJHt0aGlzLmNvbnRhaW5lck5vZGUuaW5uZXJIVE1MfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIiR7cmV2aWV3c0RvdHN9XCI+PC9kaXY+XHJcbiAgICAgIGA7XHJcblxyXG4gICAgICB0aGlzLnRyYWNrTm9kZSA9IHRoaXMuY29udGFpbmVyTm9kZS5xdWVyeVNlbGVjdG9yKGAuJHt0cmFja31gKTtcclxuICAgICAgdGhpcy5kb3RzTm9kZSA9IHRoaXMuY29udGFpbmVyTm9kZS5xdWVyeVNlbGVjdG9yKGAuJHtyZXZpZXdzRG90c31gKTtcclxuXHJcbiAgICAgIHRoaXMudHJhY2tJdGVtTm9kZSA9IEFycmF5LmZyb20odGhpcy50cmFja05vZGUuY2hpbGRyZW4pLm1hcCgoY2hpbGROb2RlKSA9PlxyXG4gICAgICAgIHdyYXBwRWxlbWVudEJ5RGl2KHtcclxuICAgICAgICAgIGVsZW1lbnQ6IGNoaWxkTm9kZSxcclxuICAgICAgICAgIGNsYXNzTmFtZTogcmV2aWV3c1RyYWNrSXRlbVxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICB0aGlzLmRvdHNOb2RlLmlubmVySFRNTCA9IEFycmF5LmZyb20oQXJyYXkodGhpcy5zaXplKS5rZXlzKCkpLm1hcCgoa2V5KSA9PiAoXHJcbiAgICAgICAgYDxidXR0b24gY2xhc3M9XCIke3Jldmlld3NEb3R9ICR7a2V5ID09PSB0aGlzLmN1cnJlbnRTbGlkZSA/IFxyXG4gICAgICAgICAgcmV2aWV3c0RvdEFjdGl2ZSA6ICcnfVwiPjwvYnV0dG9uPmBcclxuICAgICAgKSkuam9pbihcIlwiKTtcclxuXHJcbiAgICAgIHRoaXMuZG90Tm9kZSA9IHRoaXMuZG90c05vZGUucXVlcnlTZWxlY3RvckFsbChgLiR7cmV2aWV3c0RvdH1gKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQYXJhbWV0ZXJzKCkge1xyXG4gICAgICBjb25zdCBjb29yZHNDb250YWluZXIgPSB0aGlzLmNvbnRhaW5lck5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICB0aGlzLndpZHRoID0gY29vcmRzQ29udGFpbmVyLndpZHRoO1xyXG4gICAgICB0aGlzLm1heGltdW1YID0gLSh0aGlzLnNpemUgLSAxKSAqIHRoaXMud2lkdGg7XHJcbiAgICAgIHRoaXMueCA9IC10aGlzLmN1cnJlbnRTbGlkZSAqIHRoaXMud2lkdGg7XHJcblxyXG4gICAgICB0aGlzLnJlc2V0VHJhbnNpdGlvbigpO1xyXG4gICAgICB0aGlzLnRyYWNrTm9kZS5zdHlsZS53aWR0aCA9IGAke3RoaXMuc2l6ZSAqIHRoaXMud2lkdGh9cHhgO1xyXG4gICAgICB0aGlzLnNldFBvc2l0aW9uKCk7XHJcbiAgICAgIEFycmF5LmZyb20odGhpcy50cmFja0l0ZW1Ob2RlKS5mb3JFYWNoKChpdGVtTm9kZSkgPT4ge1xyXG4gICAgICAgIGl0ZW1Ob2RlLnN0eWxlLndpZHRoID0gYCR7dGhpcy53aWR0aH1weGBcclxuICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50cygpIHtcclxuICAgICAgdGhpcy5kZWJvdW5jZWRSZXNpemVDYXJvdXNlbCA9IGRlYm91bmNlKHRoaXMucmVzaXplQ2Fyb3VzZWwpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLmRlYm91bmNlZFJlc2l6ZUNhcm91c2VsKTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIHRoaXMuZGVib3VuY2VkUmVzaXplQ2Fyb3VzZWwpO1xyXG5cclxuICAgICAgdGhpcy50cmFja05vZGUuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHRoaXMuc3RhcnREcmFnKTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgdGhpcy5zdG9wRHJhZyk7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmNhbmNlbFwiLCB0aGlzLnN0b3BEcmFnKTtcclxuXHJcbiAgICAgIHRoaXMuZG90c05vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xpY2tEb3RzKTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95RXZlbnRzKCkge1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLmRlYm91bmNlZFJlc2l6ZUNhcm91c2VsKTtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIHRoaXMuZGVib3VuY2VkUmVzaXplQ2Fyb3VzZWwpO1xyXG5cclxuICAgICAgdGhpcy50cmFja05vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHRoaXMuc3RhcnREcmFnKTtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgdGhpcy5zdG9wRHJhZyk7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmNhbmNlbFwiLCB0aGlzLnN0b3BEcmFnKTtcclxuXHJcbiAgICAgIHRoaXMuZG90c05vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xpY2tEb3RzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXNpemVDYXJvdXNlbCgpIHtcclxuICAgICAgdGhpcy5zZXRQYXJhbWV0ZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnREcmFnIChldnQpIHtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCB0aGlzLmRyYWdnaW5nKTtcclxuICAgICAgXHJcbiAgICAgIHRoaXMuY3VycmVudFNsaWRlV2FzQ2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmNsaWNrWCA9IGV2dC5wYWdlWDtcclxuICAgICAgdGhpcy5zdGFydFggPSB0aGlzLng7XHJcblxyXG4gICAgICB0aGlzLmNvbnRhaW5lck5vZGUuY2xhc3NMaXN0LmFkZChkcmFnQ3Vyc29yKTtcclxuXHJcbiAgICAgIHRoaXMucmVzZXRUcmFuc2l0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcERyYWcoKSB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5kcmFnZ2luZyk7XHJcblxyXG4gICAgICB0aGlzLmNvbnRhaW5lck5vZGUuY2xhc3NMaXN0LnJlbW92ZShkcmFnQ3Vyc29yKTtcclxuXHJcbiAgICAgIHRoaXMuY2hhbmdlQ3VycmVudFNsaWRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhZ2dpbmcgKGV2dCkge1xyXG4gICAgICB0aGlzLmRyYWdYID0gZXZ0LnBhZ2VYO1xyXG4gICAgICBjb25zdCBkcmFnU2hpZnQgPSB0aGlzLmRyYWdYIC10aGlzLmNsaWNrWDtcclxuICAgICAgY29uc3QgZWFzaW5nID0gZHJhZ1NoaWZ0IC8gNTtcclxuICAgICAgdGhpcy54ID0gTWF0aC5tYXgoTWF0aC5taW4odGhpcy5zdGFydFggKyBkcmFnU2hpZnQsIGVhc2luZyksIHRoaXMubWF4aW11bVggKyBlYXNpbmcpO1xyXG5cclxuICAgICAgdGhpcy5zZXRQb3NpdGlvbigpO1xyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgIGRyYWdTaGlmdCA+IDggJiZcclxuICAgICAgICBkcmFnU2hpZnQgPiAwICYmXHJcbiAgICAgICAgIXRoaXMuY3VycmVudFNsaWRlV2FzQ2hhbmdlZCAmJlxyXG4gICAgICAgIHRoaXMuY3VycmVudFNsaWRlID4gMFxyXG4gICAgICApIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTbGlkZVdhc0NoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFNsaWRlIC09IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICBkcmFnU2hpZnQgPCAtOCAmJlxyXG4gICAgICAgIGRyYWdTaGlmdCA8IDAgJiZcclxuICAgICAgICAhdGhpcy5jdXJyZW50U2xpZGVXYXNDaGFuZ2VkICYmXHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2xpZGUgPCB0aGlzLnNpemUgLSAxXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFNsaWRlV2FzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2xpZGUgKz0gMTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrRG90cyAoZXZ0KSB7XHJcbiAgICAgIGNvbnN0IGRvdG5vZGUgPSBldnQudGFyZ2V0LmNsb3Nlc3QoXCJidXR0b25cIik7XHJcblxyXG4gICAgICBpZiAoIWRvdG5vZGUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBkb3ROdW1iZXI7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZG90Tm9kZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICh0aGlzLmRvdE5vZGVbaV0gPT09IGRvdG5vZGUpIHtcclxuICAgICAgICAgIGRvdE51bWJlciA9IGk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkb3ROdW1iZXIgPT09IHRoaXMuY3VycmVudFNsaWRlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjb3VudFN3aXBlcyA9IE1hdGguYWJzKHRoaXMuY3VycmVudFNsaWRlIC0gZG90TnVtYmVyKTtcclxuICAgICAgdGhpcy5jdXJyZW50U2xpZGUgPSBkb3ROdW1iZXI7XHJcbiAgICAgIHRoaXMuY2hhbmdlQ3VycmVudFNsaWRlKGNvdW50U3dpcGVzKTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlVG9MZWZ0KCkge1xyXG4gICAgICBpZiAodGhpcy5jdXJyZW50U2xpZGUgPD0gMCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5jdXJyZW50U2xpZGUgLT0gMTtcclxuICAgICAgdGhpcy5jaGFuZ2VDdXJyZW50U2xpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlVG9SaWdodCgpIHtcclxuICAgICAgaWYgKHRoaXMuY3VycmVudFNsaWRlID49IHRoaXMuc2l6ZSAtIDEpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuY3VycmVudFNsaWRlICs9IDE7XHJcbiAgICAgIHRoaXMuY2hhbmdlQ3VycmVudFNsaWRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlQ3VycmVudFNsaWRlKGNvdW50U3dpcGVzKSB7XHJcbiAgICAgIHRoaXMueCA9IC10aGlzLmN1cnJlbnRTbGlkZSAqIHRoaXMud2lkdGg7XHJcbiAgICAgIHRoaXMuc2V0VHJhbnNpdGlvbihjb3VudFN3aXBlcyk7XHJcbiAgICAgIHRoaXMuc2V0UG9zaXRpb24oKTtcclxuICAgICAgdGhpcy5jaGFuZ2VBY3RpdmVEb3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VBY3RpdmVEb3QoKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwO2kgPCB0aGlzLmRvdE5vZGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0aGlzLmRvdE5vZGVbaV0uY2xhc3NMaXN0LnJlbW92ZShyZXZpZXdzRG90QWN0aXZlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5kb3ROb2RlW3RoaXMuY3VycmVudFNsaWRlXS5jbGFzc0xpc3QuYWRkKHJldmlld3NEb3RBY3RpdmUpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBvc2l0aW9uKCkge1xyXG4gICAgICB0aGlzLnRyYWNrTm9kZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHt0aGlzLnh9cHgsIDAsIDApYDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUcmFuc2l0aW9uKGNvdW50U3dpcGVzID0gMSkge1xyXG4gICAgICB0aGlzLnRyYWNrTm9kZS5zdHlsZS50cmFuc2l0aW9uID0gYGFsbCAkezAuMjUgKiBjb3VudFN3aXBlc31zIGVhc2UgMHNgO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0VHJhbnNpdGlvbigpIHtcclxuICAgICAgdGhpcy50cmFja05vZGUuc3R5bGUudHJhbnNpdGlvbiA9IGBhbGwgMHMgZWFzZSAwc2A7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gd3JhcHBFbGVtZW50QnlEaXYgKHtlbGVtZW50LCBjbGFzc05hbWV9KSB7XHJcbiAgICBjb25zdCB3cmFwcGVyTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICB3cmFwcGVyTm9kZS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcblxyXG4gICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyTm9kZSwgZWxlbWVudCk7XHJcbiAgICB3cmFwcGVyTm9kZS5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuXHJcbiAgICByZXR1cm4gd3JhcHBlck5vZGU7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBkZWJvdW5jZSAoZnVuYywgdGltZSA9IDEwMCkge1xyXG4gICAgbGV0IHRpbWVyO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQgKHRpbWVyKTtcclxuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0IChmdW5jLCB0aW1lLCBldmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZXcgcmV2aWV3c0Nhcm91c2VsKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmV2aWV3cy1zdGFnZVwiKSk7XHJcblxyXG59XHJcblxyXG5SZXZpZXdzQ2Fyb3VzZWxDb250cm9sKCk7XHJcblxyXG5mdW5jdGlvbiBsYXp5SW1hZ2VzKCkge1xyXG4gIGNvbnN0IGltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbWdcIik7XHJcblxyXG4gIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICByb290OiBudWxsLFxyXG4gICAgcm9vdE1hcmdpbjogXCIwcHhcIixcclxuICAgIHRocmVzaG9sZDogMC4xXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVJbWcobXlJbWcsIG9ic2VydmVyKSB7XHJcbiAgICBteUltZy5mb3JFYWNoKG15SW1nU2luZ2xlID0+IHtcclxuICAgICAgaWYgKG15SW1nU2luZ2xlLmludGVyc2VjdGlvblJhdGlvID4gMCkge1xyXG4gICAgICAgIGxvYWRJbWFnZShteUltZ1NpbmdsZS50YXJnZXQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGxvYWRJbWFnZShpbWFnZSkge1xyXG4gICAgaW1hZ2Uuc3JjID0gaW1hZ2UuZ2V0QXR0cmlidXRlKFwiZGF0YS1zcmNcIik7XHJcbiAgfVxyXG5cclxuICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVJbWcsIG9wdGlvbnMpO1xyXG5cclxuICBpbWFnZXMuZm9yRWFjaCggaW1nID0+IHtcclxuICAgIG9ic2VydmVyLm9ic2VydmUoaW1nKTtcclxuICB9KTtcclxufSBcclxuXHJcbmxhenlJbWFnZXMoKTtcclxuXHJcbiQoZnVuY3Rpb24oKSB7XHJcbiAgZnVuY3Rpb24gc21vb3RoQW5jaG9ycygpIHtcclxuICAgIGNvbnN0IG5hdiA9ICQoXCIubmF2XCIpO1xyXG4gICAgY29uc3QgaHRtbCA9ICQoXCJodG1sXCIpO1xyXG4gICAgY29uc3QgYm9keSA9ICQoXCJib2R5XCIpO1xyXG4gIFxyXG4gICAgbmF2Lm9uKFwiY2xpY2tcIiwgXCJhW2hyZWZePScjJ11cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBcclxuICAgICAgbGV0IGlkICA9ICQodGhpcykuYXR0cihcImhyZWZcIik7XHJcbiAgICAgIGxldCB0b3AgPSAkKGlkKS5vZmZzZXQoKS50b3A7XHJcbiAgICAgIFxyXG4gICAgICAkKGh0bWwsIGJvZHkpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IHRvcCB9LCAxNTAwKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICBzbW9vdGhBbmNob3JzKCk7XHJcblxyXG4gIGZ1bmN0aW9uIGZlYXR1cmVzQ2Fyb3VzZWxTaWRlQ29udHJvbCgpIHtcclxuICAgIGNvbnN0IHN0YWdlID0gJChcIi5mZWF0dXJlcy1zdGFnZVwiKTtcclxuICAgIGNvbnN0IHRyYWNrID0gJChcIi5mZWF0dXJlcy10cmFja1wiKTtcclxuICAgIGNvbnN0IHRyYWNrSXRlbSA9ICQoXCIuZmVhdHVyZXMtdHJhY2tfX2l0ZW1cIik7XHJcbiAgXHJcbiAgICBjb25zdCBjb250cm9sYnRuID0gJChcIi5jb250cm9sX19pdGVtXCIpO1xyXG4gICAgY29uc3QgbWFya2VyID0gJChcIi5tYXJrZXJcIik7XHJcbiAgXHJcbiAgICBjb25zdCBzbGlkZXNUb1Nob3cgPSAxO1xyXG4gICAgY29uc3Qgc2xpZGVzVG9TY3JvbGwgPSAxO1xyXG4gICAgY29uc3QgaXRlbVdpZHRoID0gc3RhZ2Uud2lkdGgoKSAvIHNsaWRlc1RvU2hvdztcclxuICAgIGNvbnN0IGl0ZW1zQ291bnQgID0gdHJhY2tJdGVtLmxlbmd0aDtcclxuICAgIGNvbnN0IG1vdmVQb3NpdGlvbiA9IHNsaWRlc1RvU2Nyb2xsICogaXRlbVdpZHRoO1xyXG4gIFxyXG4gICAgbGV0IHBvc2l0aW9uID0gMDtcclxuICAgIGxldCBzbGlkZV8xID0gMDtcclxuICAgIGxldCBzbGlkZV8yID0gKCBzdGFnZS53aWR0aCgpICogKC1pdGVtc0NvdW50KSApIC8gNjtcclxuICAgIGxldCBzbGlkZV8zID0gKCBzdGFnZS53aWR0aCgpICogKC1pdGVtc0NvdW50KSApIC8gNiAqIDI7XHJcbiAgICBsZXQgc2xpZGVfNCA9ICggc3RhZ2Uud2lkdGgoKSAqICgtaXRlbXNDb3VudCkgKSAvIDYgKiAzO1xyXG4gICAgbGV0IHNsaWRlXzUgPSAoIHN0YWdlLndpZHRoKCkgKiAoLWl0ZW1zQ291bnQpICkgLyA2ICogNDtcclxuICAgIGxldCBzbGlkZV82ID0gKCBzdGFnZS53aWR0aCgpICogKC1pdGVtc0NvdW50KSApIC8gNiAqIDU7XHJcbiAgXHJcbiAgICB0cmFja0l0ZW0uZWFjaChmdW5jdGlvbiAoaW5kZXgsIHRyYWNrSXRlbSkgeyAgIFxyXG4gICAgICAkKHRyYWNrSXRlbSkuY3NzKHtcclxuICAgICAgICBcIndpZHRoXCI6IGl0ZW1XaWR0aFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgY29uc3Qgc2V0UG9zaXRpb24gPSAoKSA9PiB7XHJcbiAgICAgIHRyYWNrLmNzcyh7XHJcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHtwb3NpdGlvbn1weCwgMCwgMClgXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgY29udHJvbGJ0bi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zdCBlbGVtZW50SUQgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKTtcclxuICAgICAgc3dpdGNoIChlbGVtZW50SUQpIHtcclxuICAgICAgICBjYXNlIFwiY29udHJvbF9faXRlbS0xXCI6XHJcbiAgICAgICAgICBwb3NpdGlvbiA9IHNsaWRlXzE7XHJcbiAgICAgICAgICBzZXRQb3NpdGlvbigpO1xyXG4gIFxyXG4gICAgICAgICAgJCh0aGlzKS5wcmV2QWxsKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAkKHRoaXMpLm5leHRBbGwoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgXHJcbiAgICAgICAgICAkKHRoaXMpLnByZXZBbGwoKS5maW5kKG1hcmtlcikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAkKHRoaXMpLm5leHRBbGwoKS5maW5kKG1hcmtlcikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAkKHRoaXMpLmZpbmQobWFya2VyKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gIFxyXG4gICAgICAgIGNhc2UgXCJjb250cm9sX19pdGVtLTJcIjpcclxuICAgICAgICAgIHBvc2l0aW9uID0gc2xpZGVfMjtcclxuICAgICAgICAgIHNldFBvc2l0aW9uKCk7XHJcbiAgXHJcbiAgICAgICAgICAkKHRoaXMpLnByZXZBbGwoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICQodGhpcykubmV4dEFsbCgpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICBcclxuICAgICAgICAgICQodGhpcykucHJldkFsbCgpLmZpbmQobWFya2VyKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICQodGhpcykubmV4dEFsbCgpLmZpbmQobWFya2VyKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICQodGhpcykuZmluZChtYXJrZXIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgXHJcbiAgICAgICAgY2FzZSBcImNvbnRyb2xfX2l0ZW0tM1wiOlxyXG4gICAgICAgICAgcG9zaXRpb24gPSBzbGlkZV8zO1xyXG4gICAgICAgICAgc2V0UG9zaXRpb24oKTtcclxuICBcclxuICAgICAgICAgICQodGhpcykucHJldkFsbCgpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgJCh0aGlzKS5uZXh0QWxsKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIFxyXG4gICAgICAgICAgJCh0aGlzKS5wcmV2QWxsKCkuZmluZChtYXJrZXIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgJCh0aGlzKS5uZXh0QWxsKCkuZmluZChtYXJrZXIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgJCh0aGlzKS5maW5kKG1hcmtlcikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICBicmVhaztcclxuICBcclxuICAgICAgICBjYXNlIFwiY29udHJvbF9faXRlbS00XCI6XHJcbiAgICAgICAgICBwb3NpdGlvbiA9IHNsaWRlXzQ7XHJcbiAgICAgICAgICBzZXRQb3NpdGlvbigpO1xyXG4gIFxyXG4gICAgICAgICAgJCh0aGlzKS5wcmV2QWxsKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAkKHRoaXMpLm5leHRBbGwoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgXHJcbiAgICAgICAgICAkKHRoaXMpLnByZXZBbGwoKS5maW5kKG1hcmtlcikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAkKHRoaXMpLm5leHRBbGwoKS5maW5kKG1hcmtlcikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAkKHRoaXMpLmZpbmQobWFya2VyKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gIFxyXG4gICAgICAgIGNhc2UgXCJjb250cm9sX19pdGVtLTVcIjpcclxuICAgICAgICAgIHBvc2l0aW9uID0gc2xpZGVfNTtcclxuICAgICAgICAgIHNldFBvc2l0aW9uKCk7XHJcbiAgXHJcbiAgICAgICAgICAkKHRoaXMpLnByZXZBbGwoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICQodGhpcykubmV4dEFsbCgpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICBcclxuICAgICAgICAgICQodGhpcykucHJldkFsbCgpLmZpbmQobWFya2VyKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICQodGhpcykubmV4dEFsbCgpLmZpbmQobWFya2VyKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICQodGhpcykuZmluZChtYXJrZXIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgXHJcbiAgICAgICAgY2FzZSBcImNvbnRyb2xfX2l0ZW0tNlwiOlxyXG4gICAgICAgICAgcG9zaXRpb24gPSBzbGlkZV82O1xyXG4gICAgICAgICAgc2V0UG9zaXRpb24oKTtcclxuICBcclxuICAgICAgICAgICQodGhpcykucHJldkFsbCgpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgJCh0aGlzKS5uZXh0QWxsKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIFxyXG4gICAgICAgICAgJCh0aGlzKS5wcmV2QWxsKCkuZmluZChtYXJrZXIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgJCh0aGlzKS5uZXh0QWxsKCkuZmluZChtYXJrZXIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgJCh0aGlzKS5maW5kKG1hcmtlcikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIGZlYXR1cmVzQ2Fyb3VzZWxTaWRlQ29udHJvbCgpO1xyXG5cclxuICBmdW5jdGlvbiBzcGluY3JlbWVudCgpIHtcclxuICAgIGNvbnN0IHNlY3Rpb24gPSAkKFwiLmNvbW11bml0eVwiKTtcclxuICAgIGNvbnN0IFdpbmRvdyA9ICQod2luZG93KTtcclxuICAgIGNvbnN0IERvY3VtZW50ID0gJChkb2N1bWVudCk7XHJcbiAgXHJcbiAgICBsZXQgY291bnRlciA9ICQoXCIuY29tbXVuaXR5LWxpc3RfX2l0ZW0tbnVtYmVyXCIpO1xyXG4gICAgbGV0IHNob3dBbmltYXRpb24gPSB0cnVlO1xyXG4gIFxyXG4gICAgV2luZG93Lm9uKFwic2Nyb2xsIGxvYWQgcmVzaXplXCIsIGZ1bmN0aW9uKCkge1xyXG4gIFxyXG4gICAgICBpZiAoIXNob3dBbmltYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgbGV0IGVfdG9wID0gc2VjdGlvbi5vZmZzZXQoKS50b3A7XHJcbiAgICAgIGxldCBlX2hlaWdodCA9IHNlY3Rpb24ub3V0ZXJIZWlnaHQoKTtcclxuICAgICAgbGV0IHdfdG9wID0gV2luZG93LnNjcm9sbFRvcCgpO1xyXG4gICAgICBsZXQgd19oZWlnaHQgPSBXaW5kb3cuaGVpZ2h0KCk7XHJcbiAgICAgIGxldCBkX2hlaWdodCA9IERvY3VtZW50LmhlaWdodCgpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHdfdG9wICsgNjQwID49IGVfdG9wIHx8IFxyXG4gICAgICAgIHdfaGVpZ2h0ICsgd190b3AgPT09IGRfaGVpZ2h0IHx8XHJcbiAgICAgICAgZV9oZWlnaHQgKyBlX3RvcCA8IHdfaGVpZ2h0KSB7XHJcbiAgICAgICAgY291bnRlci5zcGluY3JlbWVudCh7XHJcbiAgICAgICAgICB0aG91c2FuZFNlcGFyYXRvcjogXCIgXCIsXHJcbiAgICAgICAgICBkdXJhdGlvbjogMTUwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNob3dBbmltYXRpb24gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHNwaW5jcmVtZW50KCk7XHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZUJyKCkge1xyXG4gICAgY29uc3QgYnJDbGFzcyA9ICQoXCIuYnJcIik7XHJcbiAgXHJcbiAgICAkKHdpbmRvdykub24oXCJsb2FkIHJlc2l6ZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChpbm5lcldpZHRoIDw9IDc2OCkge1xyXG4gICAgICAgIGJyQ2xhc3MuZmluZCggJChcImJyXCIpLnJlbW92ZSgpICk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICByZW1vdmVCcigpO1xyXG5cclxuICBmdW5jdGlvbiBzdWJzY3JpcHRpb25TZWxlY3RvcigpIHtcclxuICAgIGNvbnN0IHNwYW5FbGVtID0gJChcInNwYW5cIik7XHJcbiAgICBjb25zdCBtID0gJChcIiNtb250aGx5XCIpO1xyXG4gICAgY29uc3QgeSA9ICQoXCIjeWVhcmx5XCIpO1xyXG4gICAgY29uc3Qgc3dpdGNoZXIgPSAkKFwiLnN1YnNjcmlwdGlvbnMtc2VsZWN0X19zd2l0Y2hlclwiKTtcclxuICAgIGNvbnN0IHNsaWRlciA9ICQoXCIuc3Vic2NyaXB0aW9ucy1zZWxlY3RfX3NsaWRlclwiKTtcclxuICAgIGNvbnN0IHN3aXRjaGVyQ2xpY2sgPSAkKFwiLnN1YnNjcmlwdGlvbnMtc2VsZWN0X19zd2l0Y2hlci5mb3ItY2xpY2tcIik7XHJcbiAgICBjb25zdCBwcmVtaXVtUHJpY2UgPSAkKFwiI3ByZW1pdW0tcHJpY2VcIilcclxuICAgIGNvbnN0IHByb1ByaWNlID0gJChcIiNwcm8tcHJpY2VcIik7XHJcbiAgXHJcbiAgICBzcGFuRWxlbS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKCQodGhpcykuYXR0cihcImlkXCIpID09PSBcInllYXJseVwiKSB7XHJcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZSBhbm51YWxcIik7XHJcbiAgICAgICAgbS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICBzd2l0Y2hlci5hZGRDbGFzcyhcImFubnVhbFwiKTtcclxuICAgICAgICBzbGlkZXIuYWRkQ2xhc3MoXCJhbm51YWxcIik7XHJcbiAgICAgICAgcHJlbWl1bVByaWNlLmh0bWwoXCI0MVwiKTtcclxuICAgICAgICBwcm9QcmljZS5odG1sKFwiODNcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeS5yZW1vdmVDbGFzcyhcImFjdGl2ZSBhbm51YWxcIik7XHJcbiAgICAgICAgbS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICBzd2l0Y2hlci5yZW1vdmVDbGFzcyhcImFubnVhbFwiKTtcclxuICAgICAgICBzbGlkZXIucmVtb3ZlQ2xhc3MoXCJhbm51YWxcIik7XHJcbiAgICAgICAgcHJlbWl1bVByaWNlLmh0bWwoXCI0OVwiKTtcclxuICAgICAgICBwcm9QcmljZS5odG1sKFwiOTlcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIFxyXG4gICAgc3dpdGNoZXJDbGljay5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAobS5hdHRyKFwiY2xhc3NcIikgPT09IFwiYWN0aXZlXCIpIHtcclxuICAgICAgICBzbGlkZXIuYWRkQ2xhc3MoXCJhbm51YWxcIik7XHJcbiAgICAgICAgc3dpdGNoZXIuYWRkQ2xhc3MoXCJhbm51YWxcIik7XHJcbiAgICAgICAgbS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICB5LmFkZENsYXNzKFwiYWN0aXZlIGFubnVhbFwiKTtcclxuICAgICAgICBwcmVtaXVtUHJpY2UuaHRtbChcIjQxXCIpO1xyXG4gICAgICAgIHByb1ByaWNlLmh0bWwoXCI4M1wiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzbGlkZXIucmVtb3ZlQ2xhc3MoXCJhbm51YWxcIik7XHJcbiAgICAgICAgc3dpdGNoZXIucmVtb3ZlQ2xhc3MoXCJhbm51YWxcIik7XHJcbiAgICAgICAgbS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICB5LnJlbW92ZUNsYXNzKFwiYWN0aXZlIGFubnVhbFwiKTtcclxuICAgICAgICBwcmVtaXVtUHJpY2UuaHRtbChcIjQ5XCIpO1xyXG4gICAgICAgIHByb1ByaWNlLmh0bWwoXCI5OVwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIHN1YnNjcmlwdGlvblNlbGVjdG9yKCk7XHJcbn0pO1xyXG5cclxualF1ZXJ5LmV2ZW50LnNwZWNpYWwudG91Y2hzdGFydCA9IHtcclxuICBzZXR1cDogZnVuY3Rpb24oIF8sIG5zLCBoYW5kbGUgKSB7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGhhbmRsZSwgeyBwYXNzaXZlOiAhbnMuaW5jbHVkZXMoXCJub1ByZXZlbnREZWZhdWx0XCIpIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmpRdWVyeS5ldmVudC5zcGVjaWFsLnRvdWNobW92ZSA9IHtcclxuICBzZXR1cDogZnVuY3Rpb24oIF8sIG5zLCBoYW5kbGUgKSB7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgaGFuZGxlLCB7IHBhc3NpdmU6ICFucy5pbmNsdWRlcyhcIm5vUHJldmVudERlZmF1bHRcIikgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxualF1ZXJ5LmV2ZW50LnNwZWNpYWwud2hlZWwgPSB7XHJcbiAgc2V0dXA6IGZ1bmN0aW9uKCBfLCBucywgaGFuZGxlICkge1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgaGFuZGxlLCB7IHBhc3NpdmU6ICFucy5pbmNsdWRlcyhcIm5vUHJldmVudERlZmF1bHRcIikgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxualF1ZXJ5LmV2ZW50LnNwZWNpYWwubW91c2V3aGVlbCA9IHtcclxuICBzZXR1cDogZnVuY3Rpb24oIF8sIG5zLCBoYW5kbGUgKSB7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsIGhhbmRsZSwgeyBwYXNzaXZlOiAhbnMuaW5jbHVkZXMoXCJub1ByZXZlbnREZWZhdWx0XCIpIH0pO1xyXG4gIH1cclxufTsiXX0=
